.radial-progress {
  $circle-size: 100%;
  $circle-background: #d6dadc;
  $circle-color: red;
  $inset-size: 70%;
  $inset-color: #fbfbfb;
  $transition-length: 1s;
  $shadow: 6px 6px 10px rgba(0, 0, 0, 0.2);

  $circle-size-f: 100px;

  height: $circle-size-f;
  width: $circle-size-f;

  background-color: $circle-background;
  border-radius: 50%;
  .circle {
    min-width: 100%;
    min-height: 100%;
    max-width: 100%;
    max-height: 100%;
    height: 100%;

    .mask, .fill, .shadow {
      position: absolute;
      width: $circle-size;
      height: $circle-size;
      border-radius: 50%;
    }
    .shadow {
      box-shadow: $shadow inset;
    }
    .mask, .fill {
      -webkit-backface-visibility: hidden;
      transition: transform $transition-length;
      border-radius: 50%;
    }
    .mask {
      //clip-path: inset(0px $circle-size $circle-size $circle-size/2);
      clip-path: inset(0 0 0 $circle-size/2);
      .fill {
        clip-path: inset(0 $circle-size/2 0 0);
        background-color: $circle-color;
      }
    }
  }
  .inset {
    width: $inset-size;
    height: $inset-size;
    position: absolute;
    margin-left: ($circle-size - $inset-size)/2;
    margin-top: ($circle-size - $inset-size)/2;

    background-color: $inset-color;
    border-radius: 50%;
    box-shadow: $shadow;
  }

  $i: 0;
  $increment: 180deg / 100;
  @mixin loop($i) {
    @if ($i <= 100) {
      &#{"[data-progress=\"" + $i + "\"]"} {
        .circle {
          .mask.full, .fill {
            transform: rotate($increment * $i);
          }
          .fill.fix {
            transform: rotate($increment * $i * 2);
          }
        }
      }
      @include loop($i + 1);
    }
  }
  @include loop($i);
}